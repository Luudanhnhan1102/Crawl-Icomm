#pragma checksum "/Users/admin/Downloads/Icomm.NewsCrawl.Website/Views/Home/Conf.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "71518cbcffd8264aa92429ebd92ca85acacb1196"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Views_Home_Conf), @"mvc.1.0.view", @"/Views/Home/Conf.cshtml")]
[assembly:global::Microsoft.AspNetCore.Mvc.Razor.Compilation.RazorViewAttribute(@"/Views/Home/Conf.cshtml", typeof(AspNetCore.Views_Home_Conf))]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"71518cbcffd8264aa92429ebd92ca85acacb1196", @"/Views/Home/Conf.cshtml")]
    public class Views_Home_Conf : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<dynamic>
    {
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
#line 1 "/Users/admin/Downloads/Icomm.NewsCrawl.Website/Views/Home/Conf.cshtml"
  
    Layout = "~/Views/Shared/Layout.cshtml";

#line default
#line hidden
            BeginContext(53, 7655, true);
            WriteLiteral(@"
<h3>Customer Report</h3>
<div class=""row"" style=""margin-bottom:10px""><button type=""button"" id=""create"" class=""btn btn-primary"">Create</button></div>
<div class=""span12"">
    <table class=""table table-hover"" id=""datatab"">
        <thead>
            <tr>
                <th>ID</th>
                <th>Domain</th>
                <th>Type</th>
                <th>Action</th>
            </tr>
        </thead>
        <tbody></tbody>
        <tfoot>
            <tr>
                <th>ID</th>
                <th>Domain</th>
                <th>Type</th>
                <th>Action</th>
            </tr>
        </tfoot>
    </table>
</div>
<!-- Modal -->
<div class=""modal fade "" tabindex=""-1"" id=""myModal"" role=""dialog"" aria-labelledby=""myLargeModalLabel"" aria-hidden=""true"">
    <div class=""modal-dialog modal-lg"">

        <!-- Modal content-->
        <div class=""modal-content h-100"">
            <div class=""modal-header"">
                <h4 class=""modal-title"">Config detail</h4>");
            WriteLiteral(@"
                <button type=""button"" class=""close"" data-dismiss=""modal"" aria-label=""Close"">
                    <span aria-hidden=""true"">&times;</span>
                </button>

            </div>
            <div class=""modal-body"">
                <div class=""container-fluid justify-content-center align-items-center"">
                    <form id=""form"" class=""form-horizontal"">
                        <input class=""form-control"" id=""Id"" name=""Id"" type=""hidden"">
                        <div class=""row"">
                            <label for=""Domain1"" class=""control-label col-md-3"">Domain</label>
                            <input class=""form-control col-md-9 ml-auto"" id=""Domain1"" name=""Domain1"" type=""text"">
                        </div>
                        <div class=""row"">
                            <label for=""Type"" class=""control-label col-md-3"">Type</label>
                            <input class=""form-control col-md-9 ml-auto"" id=""Type"" name=""Type"" type=""number"">
            ");
            WriteLiteral(@"            </div>
                        <div class=""row"">
                            <label for=""Content"" class=""control-label col-md-3"">Content</label>
                            <textarea class=""form-control col-md-9 ml-auto"" id=""Content"" name=""Content"" rows=""7"" type=""text""></textarea>
                        </div>
                    </form>
                </div>
            </div>
            <div class=""modal-footer"">
                <button type=""button"" id=""createtmp"" class=""btn btn-primary mr-auto"">Create</button>
                <button type=""button"" class=""btn btn-secondary"" data-dismiss=""modal"">Close</button>
            </div>
        </div>
    </div>
</div>
<script>
    var data;
    var oTable;
    // Khởi tạo data table phân trang từ sever side
    $(document).ready(function () {
        oTable = $('#datatab').on('xhr.dt', function (e, settings, json) {
            data = json.data;
            // Note no return - manipulate the data directly in the JSON object.
 ");
            WriteLiteral(@"       }).DataTable({
            ""serverSide"": true,
            ""ajax"": {
                ""type"": ""POST"",
                ""url"": '../api/data',
                ""contentType"": 'application/json; charset=utf-8',
                'data': function (data) {
                    return JSON.stringify(data);
                }
            },
            ""processing"": true,
            ""paging"": true,
            ""columns"": [
                { ""data"": ""Id"" },
                { ""data"": ""Domain1""},
                { ""data"": ""Type"" },
                {
                    ""data"": ""Action"",
                    ""defaultContent"": ""<button type='button' class='btn btn-danger' onclick='deleteColum(this);'>Delete</button>"",
                    ""width"": ""10%""
                }
            ],
            ""order"": [0, ""desc""]
        });

        // Mở modal thêm phần tử
        $(""#create"").click(function () {
            $(""#form :input"").val("""");
            $("".modal-footer #createtmp"").html(""Creat");
            WriteLiteral(@"e"");
            $("".modal-footer #createtmp"").attr(""onclick"",""createElemet();"");
            //$("".modal-footer"").children().remove(""#createtmp"");
            //$("".modal-footer"").children().remove(""#save"");
            //$("".modal-footer"").prepend(""<button type=\""button\"" id=\""createtmp\"" class=\""btn btn-primary mr-auto\"">Create</button>"");
            $(""#myModal"").modal();

            //$(""#createtmp"").click(function () {
            //    $.ajax({
            //        type: ""PUT"",
            //        url: ""../api/Config"",
            //        data: $(""#form"").serialize(),
            //        success: function (data) {
            //            if (data == true) {
            //                alert(""Add sucess!"");
            //                $(""#myModal"").modal('toggle');
            //                oTable.ajax.reload();
            //            } else
            //                alert(""Add error!"");
            //        }, error: function () {
            //           ");
            WriteLiteral(@" alert(""Add error!"");
            //        }
            //    });
            //});
        });

        // Handle sự kiện click vào row để tick vào checkbox
        $(document).on(""click"", ""#datatab tbody tr td:not(:last-child)"", function (e) {
            var element = $(this).parent()
            var current = data[element.parent().children().index(element)];
            //console.log($(this).parent().children());
            $.each(current, function (k, v) {
                $(""#form"").find(""#"" + k).val(v);
            });

            $("".modal-footer #createtmp"").html(""Save"");
            $("".modal-footer #createtmp"").attr(""onclick"", ""editElement();"");
            $(""#myModal"").modal();

        });
    });

    // SỬa domain
    function editElement() {
        $.ajax({
            type: ""POST"",
            url: ""../api/save"",
            data: $(""#form"").serialize(),
            success: function (data) {
                if (data == true) {
                    oTable.aja");
            WriteLiteral(@"x.reload();
                    alert(""Save sucess!"");
                    $(""#myModal"").modal('toggle');
                } else
                    alert(""Save error!"");
            },
            error: function () {
                alert(""Save error!"")
            }
        })
    }

    // Gọi api thêm domain
    function createElemet() {
        //$(""#form input:hidden"").val(""0"");
        $.ajax({
            type: ""PUT"",
            url: ""../api/domain"",
            data: $(""#form"").serialize(),
            success: function (data) {
                if (data == true) {
                    alert(""Add sucess!"");
                    $(""#myModal"").modal('toggle');
                    oTable.ajax.reload();
                } else
                    alert(""Add error!"");
            }, error: function () {
                alert(""Add error!"");
            }
        });
    }

    // Gọi api xóa phần tử
    function deleteColum(e) {
        var id = $(e).parent().parent().childr");
            WriteLiteral(@"en().first().html();
        $.ajax({
            type: ""DELETE"",
            url: ""../api/domain/delete/"" + id,
            success: function (data) {
                if (data !=null) {
                    oTable.ajax.reload();
                    alert(""Remove sucess!"");
                } else
                    alert(""Remove error!"");
            },
            error: function () {
                alert(""Remove error!"")
            }
        })
    };
</script>
");
            EndContext();
        }
        #pragma warning restore 1998
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<dynamic> Html { get; private set; }
    }
}
#pragma warning restore 1591
